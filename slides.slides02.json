{"version":2,"kind":"Article","sha256":"118afee1202335c06293de4058a34a9b2c87b70ae3bf04f35db368932cbe4ac3","slug":"slides.slides02","location":"/slides/slides02.md","dependencies":[],"frontmatter":{"title":"HPC Cluster Usage & Slurm","content_includes_title":false,"authors":[{"id":"LH","nameParsed":{"literal":"Luca Heltai","given":"Luca","family":"Heltai"},"name":"Luca Heltai","orcid":"0000-0001-5514-4683","email":"luca.heltai@unipi.it","affiliations":["unipi"],"github":"luca-heltai","linkedin":"https://www.linkedin.com/in/heltai/","youtube":"UCK0glvtKYmVPJbpurdlt9pw","corresponding":true}],"github":"https://github.com/luca-heltai/sspa","copyright":"2025","affiliations":[{"id":"unipi","name":"University of Pisa","department":"Department of Mathematics","address":"Largo Bruno Pontecorvo 5, 56127 Pisa, Italy","city":"Pisa","postal_code":"56127","country":"Italy","ror":"https://ror.org/03ad39j10","phone":"+39 050 221 3824"}],"numbering":{"title":{"offset":1}},"source_url":"https://github.com/luca-heltai/sspa/blob/main/jupyterbook/slides/slides02.md","edit_url":"https://github.com/luca-heltai/sspa/edit/main/jupyterbook/slides/slides02.md","exports":[{"format":"md","filename":"slides02.md","url":"/sspa//build/slides02-abc1ef599687137da34a4528140309a5.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"thematicBreak","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"FK9CUE12tN"},{"type":"heading","depth":3,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"Secure Shell (SSH) refresher","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"bLRRexOARX"}],"identifier":"secure-shell-ssh-refresher","label":"Secure Shell (SSH) refresher","html_id":"secure-shell-ssh-refresher","implicit":true,"key":"FbPBHpLQUB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":7,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"SSH encrypts remote shells and tunnels; clients verify server host keys, then authenticate using passwords or key pairs.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"yunTRDBAXp"}],"key":"LdSGanP4gq"}],"key":"WFkfeJeNnY"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Preferred workflow: generate a key pair, load it into ","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"aDceayWOrA"},{"type":"inlineCode","value":"ssh-agent","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"Ef9SCgqaFN"},{"type":"text","value":", and avoid typing passwords for every login.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"NfFDMhacNB"}],"key":"WE8PfcHUZi"}],"key":"h6g8fQvszT"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Everything rides over TCP port 22 (or remapped host ports like ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"SsF5QslpAM"},{"type":"inlineCode","value":"2222","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"VdN8Q43N1s"},{"type":"text","value":" here); you can multiplex shells, port-forward VS Code, or copy files with ","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XQOmgYAe70"},{"type":"inlineCode","value":"scp","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"kT0Ym68846"},{"type":"text","value":".","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"FitS5ovPqn"}],"key":"yvOzg9EkmH"}],"key":"eta4bojRdA"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Understanding SSH well is essential before we rely on it to reach the Slurm login node.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"y1ZdAiN0vp"}],"key":"z75omrYX3A"}],"key":"lKd0PjhQYL"}],"key":"duRJQ8ncPF"},{"type":"thematicBreak","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"tVsPhODzyu"},{"type":"heading","depth":3,"position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Generate and manage keys","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"fUYycRYi8N"}],"identifier":"generate-and-manage-keys","label":"Generate and manage keys","html_id":"generate-and-manage-keys","implicit":true,"key":"BJrog4qEW4"},{"type":"code","lang":"bash","value":"ssh-keygen -t ed25519 -C \"you@uni\" -f ~/.ssh/sspa_ed25519\neval \"$(ssh-agent -s)\"\nssh-add ~/.ssh/sspa_ed25519","position":{"start":{"line":16,"column":1},"end":{"line":20,"column":1}},"key":"n6exapU2LO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":22,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use modern ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"sknD9l2sqV"},{"type":"inlineCode","value":"ed25519","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"QqbwANOzu2"},{"type":"text","value":"; keep the private key mode ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Dq8kQgZWny"},{"type":"inlineCode","value":"600","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"tSymYLWpHM"},{"type":"text","value":" and protect it with a passphrase.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"NnFPVcWZEx"}],"key":"Wk2qfchOt3"}],"key":"UpYYBgeysK"},{"type":"listItem","spread":true,"position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ssh-agent","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"f5zyVHWyYt"},{"type":"text","value":" (or ","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"LbAKhWVxSk"},{"type":"inlineCode","value":"gpg-agent","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"btYCYWLxYI"},{"type":"text","value":") holds decrypted keys, so CLI tools reopen shells without prompts.","position":{"start":{"line":23,"column":1},"end":{"line":23,"column":1}},"key":"Dd8t15f646"}],"key":"azTZ8vvmjv"}],"key":"fD2i0FKw32"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":25,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Keep backups of your private key in secure password managers or hardware tokens.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"YxbyJynLdP"}],"key":"Uh931TOHTj"}],"key":"P0C9XHQ0Ds"}],"key":"Ezfdjyeug2"},{"type":"thematicBreak","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"zt7cyF9DOP"},{"type":"heading","depth":3,"position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"Custom SSH config for the mini-cluster","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"enfn1gRCYr"}],"identifier":"custom-ssh-config-for-the-mini-cluster","label":"Custom SSH config for the mini-cluster","html_id":"custom-ssh-config-for-the-mini-cluster","implicit":true,"key":"vcs5sl8Ji6"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"inlineCode","value":"~/.ssh/config","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"PJMPZFnYPC"}],"key":"Mf1pZM8NyK"},{"type":"code","lang":"sshconfig","value":"Host sspa-controller\n  HostName localhost\n  Port 2222\n  User sspa\n  IdentityFile ~/.ssh/sspa_ed25519\n  IdentitiesOnly yes","position":{"start":{"line":32,"column":1},"end":{"line":39,"column":1}},"key":"AEd7fVaifU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Lets you run ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"sKyp78KrPn"},{"type":"inlineCode","value":"ssh sspa-controller","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"L0WXAVJh8g"},{"type":"text","value":" and reuse the profile in ","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"EJdDHZHJFm"},{"type":"inlineCode","value":"scp","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"kBwtY0JFdH"},{"type":"text","value":", VS Code, etc.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"KPcZUA1LSe"}],"key":"ikDorSDS1e"}],"key":"YNuQgyM95J"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Add more hosts (e.g., campus clusters) with ","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"Qr80qS7wkd"},{"type":"inlineCode","value":"ProxyJump","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"j1KxSRjbzm"},{"type":"text","value":" once you outgrow the Docker playground.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"My85XeeZUZ"}],"key":"a8q3DAHxWC"}],"key":"RhFybyqgmo"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Keep file permissions at ","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"gUck5VNW6t"},{"type":"inlineCode","value":"600","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"XVAskErJA6"},{"type":"text","value":"; OpenSSH ignores overly permissive configs.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"E2aqUtfjgT"}],"key":"JYQr7r8EMd"}],"key":"hnsNqIaRYi"}],"key":"WUyyBAsFiF"},{"type":"thematicBreak","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"oYS1LvYNvr"},{"type":"heading","depth":3,"position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"text","value":"Chaining hosts with ProxyJump","position":{"start":{"line":47,"column":1},"end":{"line":47,"column":1}},"key":"ZjtmggxXAm"}],"identifier":"chaining-hosts-with-proxyjump","label":"Chaining hosts with ProxyJump","html_id":"chaining-hosts-with-proxyjump","implicit":true,"key":"r5iiQFszvj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":49,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"inlineCode","value":"ProxyJump","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"v5rdFUcUbx"},{"type":"text","value":" (alias ","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"s7iEQAepyU"},{"type":"inlineCode","value":"-J","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"f0bcNVn8uj"},{"type":"text","value":") lets SSH connect through one or more bastion hosts before reaching a private node.","position":{"start":{"line":49,"column":1},"end":{"line":49,"column":1}},"key":"v17fuh22cO"}],"key":"ZJQyKJD0iw"}],"key":"BXHXkPumUf"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Example:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"Y2eC2ofVqA"}],"key":"v3Ph7934M9"},{"type":"code","lang":"sshconfig","value":"Host campus-cluster\n  HostName cluster.internal\n  User you\n  ProxyJump bastion.example.edu","position":{"start":{"line":52,"column":1},"end":{"line":57,"column":1}},"key":"u7LfP1fIXS"}],"key":"DXT9hpFO0R"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"children":[{"type":"text","value":"When you run ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"pW7vErLv6y"},{"type":"inlineCode","value":"ssh campus-cluster","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"zWHNezMlLR"},{"type":"text","value":", OpenSSH first logs into ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"PTEO1HKDCd"},{"type":"inlineCode","value":"bastion.example.edu","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"gJaDRCi9AL"},{"type":"text","value":", opens a tunnel, then connects to ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"MWmCyk8iCf"},{"type":"inlineCode","value":"cluster.internal","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"KrMnw4LeE3"},{"type":"text","value":".","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"EaDeqcJZ09"}],"key":"YpcqUfc7hp"}],"key":"ShaHhZp48O"},{"type":"listItem","spread":true,"position":{"start":{"line":60,"column":1},"end":{"line":61,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"text","value":"Use commas to list multiple jumps (","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"bfvUo0yuD7"},{"type":"inlineCode","value":"ProxyJump bastion1,bastion2","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"LjbWzMhAhb"},{"type":"text","value":"); combine with ","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"dH0yWjxOMq"},{"type":"inlineCode","value":"IdentityFile","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"Iw506PVi5d"},{"type":"text","value":" to use different keys per hop.","position":{"start":{"line":60,"column":1},"end":{"line":60,"column":1}},"key":"Ws471fPHvJ"}],"key":"apGOk4bpn8"}],"key":"OhXfRFcLUJ"}],"key":"jctMEKOqPV"},{"type":"thematicBreak","position":{"start":{"line":62,"column":1},"end":{"line":62,"column":1}},"key":"oyNF0Geo5N"},{"type":"heading","depth":3,"position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"children":[{"type":"text","value":"SSH tunnels (port forwarding)","position":{"start":{"line":64,"column":1},"end":{"line":64,"column":1}},"key":"Ny5yhILDx2"}],"identifier":"ssh-tunnels-port-forwarding","label":"SSH tunnels (port forwarding)","html_id":"ssh-tunnels-port-forwarding","implicit":true,"key":"MUZyPkGf8Q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":66,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"strong","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"text","value":"Local forwarding","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"xI6J9hAbWr"}],"key":"nmEfSeH1wA"},{"type":"text","value":" (","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"UA7nGiArMQ"},{"type":"inlineCode","value":"-L","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"ogbPJNa80T"},{"type":"text","value":"): expose a remote service on your laptop.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"phoG22gKVl"}],"key":"tYw153GWOx"},{"type":"code","lang":"bash","value":"ssh -L 8899:worker1:8888 sspa-controller","position":{"start":{"line":68,"column":1},"end":{"line":70,"column":1}},"key":"aLyJVoySdt"},{"type":"paragraph","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Visit ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"TWlZ1ect2K"},{"type":"inlineCode","value":"http://localhost:8899","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"Vzuygt3aDi"},{"type":"text","value":" to reach Jupyter on ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"Rm6lO0JQ98"},{"type":"inlineCode","value":"worker1:8888","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"kVukCeAb6d"},{"type":"text","value":".","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"kTq2MH5OP1"}],"key":"z8APR8dBhu"}],"key":"wPS1L5tLl1"},{"type":"listItem","spread":true,"position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"strong","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"text","value":"Remote forwarding","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"ELTy83ViIw"}],"key":"rZlxIVGd2k"},{"type":"text","value":" (","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"ORbyXPInlK"},{"type":"inlineCode","value":"-R","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"pFKuRvjp0V"},{"type":"text","value":"): publish a local port to the remote host (e.g., debugging tools).","position":{"start":{"line":74,"column":1},"end":{"line":74,"column":1}},"key":"CX9dCQNUJY"}],"key":"DDfJLyJI5z"}],"key":"CqvDw14UNc"},{"type":"listItem","spread":true,"position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"strong","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"children":[{"type":"text","value":"Dynamic forwarding","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"hEIpLfoGiW"}],"key":"NwphAPhNgO"},{"type":"text","value":" (","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"wRK4Cwcqsp"},{"type":"inlineCode","value":"-D","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Cs3LgQcLVg"},{"type":"text","value":"): create a SOCKS proxy for browsers or package managers.","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"X1bb1Sa4Ks"}],"key":"Eq12UYF1gD"}],"key":"MgqxrNpZ9z"},{"type":"listItem","spread":true,"position":{"start":{"line":76,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"children":[{"type":"text","value":"Tunnels respect the same keys/configs; combine with ","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"J6wotz0mvn"},{"type":"inlineCode","value":"ProxyJump","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"FpvRkwlZtB"},{"type":"text","value":" to reach otherwise sealed networks.","position":{"start":{"line":76,"column":1},"end":{"line":76,"column":1}},"key":"j2HOwGxvZt"}],"key":"nwcQJSsFFe"}],"key":"hCdfGN4Osg"}],"key":"jEKA0tnvJS"},{"type":"thematicBreak","position":{"start":{"line":78,"column":1},"end":{"line":78,"column":1}},"key":"yzm1rMtAsi"},{"type":"heading","depth":3,"position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"children":[{"type":"text","value":"Push keys for passwordless access","position":{"start":{"line":80,"column":1},"end":{"line":80,"column":1}},"key":"xSVxK3UFbd"}],"identifier":"push-keys-for-passwordless-access","label":"Push keys for passwordless access","html_id":"push-keys-for-passwordless-access","implicit":true,"key":"Uqru7tcNcQ"},{"type":"code","lang":"bash","value":"ssh-copy-id -i ~/.ssh/sspa_ed25519.pub -p 2222 sspa@localhost\n# manual fallback:\ncat ~/.ssh/sspa_ed25519.pub | ssh -p 2222 sspa@localhost \\\n  \"mkdir -p ~/.ssh && chmod 700 ~/.ssh && cat >> ~/.ssh/authorized_keys && chmod 600 ~/.ssh/authorized_keys\"","position":{"start":{"line":82,"column":1},"end":{"line":87,"column":1}},"key":"HiNzuSoUGR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":89,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ssh-copy-id","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"iPcN2PVqEQ"},{"type":"text","value":" validates host keys, uploads yours, and fixes permissions automatically.","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"xL5pBoGDSa"}],"key":"R8pic3xfFE"}],"key":"h9Ey85pR6P"},{"type":"listItem","spread":true,"position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Re-run this after you rebuild containers (home directories reset).","position":{"start":{"line":90,"column":1},"end":{"line":90,"column":1}},"key":"YN7Hz8PhIY"}],"key":"RRPytl8zib"}],"key":"DrL97jmlI3"},{"type":"listItem","spread":true,"position":{"start":{"line":91,"column":1},"end":{"line":92,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Once keys are installed, commands, VS Code remote tunnels, and git-over-ssh all work without passwords.","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"WrdLt7V9Vs"}],"key":"DI3mCOvrQC"}],"key":"XfmyjDaihD"}],"key":"RzxcIt18lO"},{"type":"thematicBreak","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"xqRvT0w2t3"},{"type":"heading","depth":2,"position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"text","value":"Slurm","position":{"start":{"line":95,"column":1},"end":{"line":95,"column":1}},"key":"rsbip2YzQK"}],"identifier":"slurm","label":"Slurm","html_id":"slurm","implicit":true,"key":"owK6erNzWi"},{"type":"thematicBreak","position":{"start":{"line":97,"column":1},"end":{"line":97,"column":1}},"key":"XLYZqd4Lxl"},{"type":"heading","depth":3,"position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Why Slurm?","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"OF9gOyloKp"}],"identifier":"why-slurm","label":"Why Slurm?","html_id":"why-slurm","implicit":true,"key":"KmGEIfqOJK"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":101,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Real HPC clusters rarely allow ad-hoc logins; everything goes through a scheduler.","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"dkLLlqTHTI"}],"key":"iXhIy7RWHL"}],"key":"z7zBBLtCYh"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Slurm is the de-facto standard in EuroHPC + many university clusters, so practicing here pays off immediately.","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"aoCBZKEKMl"}],"key":"B0DtiKZqlZ"}],"key":"hixt2ukrFg"},{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"We ship a self-contained Docker mini-cluster (","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"YYelhyma2x"},{"type":"inlineCode","value":"docker_images/","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"YZ6VLWwzVc"},{"type":"text","value":") so you can experiment safely.","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"q94agV4Jx4"}],"key":"m9cYVq43g7"}],"key":"wPUAMOF4tV"},{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Today: go from connecting to the controller, to writing job scripts, to managing arrays and dependencies.","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"uCYJHMUXIE"}],"key":"mc6qNkwK0b"}],"key":"ixuqa25Yuj"}],"key":"TBBfAkCcKq"},{"type":"thematicBreak","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"DaGf4KXulP"},{"type":"heading","depth":3,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"Learning goals","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"WjFpGbVeRN"}],"identifier":"learning-goals","label":"Learning goals","html_id":"learning-goals","implicit":true,"key":"UgOM3iYCQI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":110,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Understand Slurm concepts, job scripts, and management commands.","position":{"start":{"line":110,"column":1},"end":{"line":110,"column":1}},"key":"vF3ST535to"}],"key":"l1PkNmOGuC"}],"key":"mT46cPmKcq"},{"type":"listItem","spread":true,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Practice full lifecycle: ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"srgan2TtNv"},{"type":"inlineCode","value":"sinfo","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"kosDJlL79s"},{"type":"text","value":" → ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"SgI7mKitDB"},{"type":"inlineCode","value":"sbatch","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"LXxnkNbKvq"},{"type":"text","value":" → ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"ikug3a6hCl"},{"type":"inlineCode","value":"squeue","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"tJJKvu6AnF"},{"type":"text","value":"/","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"jn27NfXZrK"},{"type":"inlineCode","value":"sacct","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"i6iGO98JQh"},{"type":"text","value":" → ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"y3KJYwcLe8"},{"type":"inlineCode","value":"scancel","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"oPJtBlRBKF"},{"type":"text","value":".","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"Jk9pCFw188"}],"key":"PF3KJsCNie"}],"key":"hObK61mtVc"},{"type":"listItem","spread":true,"position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use interactive allocations for debugging and job arrays for sweeps.","position":{"start":{"line":112,"column":1},"end":{"line":112,"column":1}},"key":"Uzcj7iV0KZ"}],"key":"OprNgXedB9"}],"key":"hWKM176axi"},{"type":"listItem","spread":true,"position":{"start":{"line":113,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prepare exercises that will live under ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"O9z1pYej2l"},{"type":"inlineCode","value":"codes/lab02","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"oAZtD1JJIk"},{"type":"text","value":".","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Av2LehBF8X"}],"key":"BI8R1JVJBr"}],"key":"FQmmwDFsOV"}],"key":"uzMVzEsNh6"},{"type":"thematicBreak","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"GzAFNokmdK"},{"type":"heading","depth":3,"position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"children":[{"type":"text","value":"Mini-cluster layout (Docker)","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"tyjWrtZlq6"}],"identifier":"mini-cluster-layout-docker","label":"Mini-cluster layout (Docker)","html_id":"mini-cluster-layout-docker","implicit":true,"key":"WxkTjoL5RS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":119,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"docker compose","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"CbZkZT4Usp"},{"type":"text","value":" file defines ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"mqlxEYNSic"},{"type":"inlineCode","value":"controller","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"oL8p7knnH3"},{"type":"text","value":", ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"ra4LYZ8bmd"},{"type":"inlineCode","value":"worker1","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"QXYddMrXPW"},{"type":"text","value":", ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"Q39lcft3Mx"},{"type":"inlineCode","value":"worker2","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"kH35DwY0Ug"},{"type":"text","value":", and an optional ","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"q5QHTbiOch"},{"type":"inlineCode","value":"jupyter","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"nTmSEiXWaC"},{"type":"text","value":" helper.","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"PDY7rcPEyq"}],"key":"Fz4EgY1ARI"}],"key":"i3xIjYP7hX"},{"type":"listItem","spread":true,"position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Ports: controller forwards ","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"nl1CkbIw26"},{"type":"inlineCode","value":"22","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"K6BiPQmp1d"},{"type":"text","value":" → host ","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"zPYulI5yXq"},{"type":"inlineCode","value":"2222","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"FfcyuRM1A7"},{"type":"text","value":", Slurm daemons on ","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"gsShA7eH2m"},{"type":"inlineCode","value":"6817/6818","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"ipBTdN2URE"},{"type":"text","value":" stay internal.","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"TGizpqtYjb"}],"key":"LlfzSvby1F"}],"key":"uFX6zz4DNh"},{"type":"listItem","spread":true,"position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Volume ","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"UI1DomUinc"},{"type":"inlineCode","value":"docker_images/slurm-state","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"ClWu9vz40t"},{"type":"text","value":" keeps Slurm state between restarts; remove if you want a clean slate.","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"jyIAJUudAR"}],"key":"nE2Bj4HLn2"}],"key":"EvZqiKtXkE"},{"type":"listItem","spread":true,"position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Shared host volumes: ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"Wxm94KqD32"},{"type":"inlineCode","value":"codes/lab02/work","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"yrQOUoEm5O"},{"type":"text","value":" → ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"ll0nfcKxsl"},{"type":"inlineCode","value":"/work","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"l8J63eGbWD"},{"type":"text","value":", ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"hRBadCnaMl"},{"type":"inlineCode","value":"codes/lab02/scratch","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"gQ04WdBlsv"},{"type":"text","value":" → ","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"iymV2CjPi0"},{"type":"inlineCode","value":"/scratch","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"t8um236uDF"},{"type":"text","value":".","position":{"start":{"line":122,"column":1},"end":{"line":122,"column":1}},"key":"fjjx3SMcHO"}],"key":"zAcGmQFX03"}],"key":"knqG1PMSjI"},{"type":"listItem","spread":true,"position":{"start":{"line":123,"column":1},"end":{"line":124,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Default user inside images: ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"jF8Hsgrb62"},{"type":"inlineCode","value":"sspa","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"TPMeMBdqN2"},{"type":"text","value":" (password ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"c34bvvXZDJ"},{"type":"inlineCode","value":"sspa-password","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"fx1rrf3hjC"},{"type":"text","value":", sudo available on controller).","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"skkTXGXnuf"}],"key":"hKWQlUKnUS"}],"key":"EiiOVeEAMx"}],"key":"MM09LJBaiR"},{"type":"thematicBreak","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"zKyc3u6Qep"},{"type":"heading","depth":3,"position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Start or reset the environment","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"wM4ilcmtP4"}],"identifier":"start-or-reset-the-environment","label":"Start or reset the environment","html_id":"start-or-reset-the-environment","implicit":true,"key":"qsKI4rbKQz"},{"type":"code","lang":"bash","value":"cd docker_images              # called docker_files in the IDE overview\n./build_images.sh             # only first time or after Dockerfile edits\ndocker compose up -d controller worker1 worker2","position":{"start":{"line":129,"column":1},"end":{"line":133,"column":1}},"key":"to99tLaD7a"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":135,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"docker compose ps","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"OmVA9Qupg2"},{"type":"text","value":" should show 3 containers ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"lO5tE1ul0v"},{"type":"inlineCode","value":"Up","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"AElBb9uImz"},{"type":"text","value":".","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"CEJ61bDLTt"}],"key":"c8Mc0JhUeH"}],"key":"QaMJrIHcy8"},{"type":"listItem","spread":true,"position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Rebuild only when Dockerfiles change; otherwise ","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"CgG5EVBxoj"},{"type":"inlineCode","value":"docker compose pull","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"jGQ9XSsBjq"},{"type":"text","value":"/","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"RJaMQSAGRC"},{"type":"inlineCode","value":"up","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"HLMZNfsYFK"},{"type":"text","value":" is instant.","position":{"start":{"line":136,"column":1},"end":{"line":136,"column":1}},"key":"XsS4zCjMdK"}],"key":"ibsWF3cAA9"}],"key":"a1nFjm27HF"},{"type":"listItem","spread":true,"position":{"start":{"line":137,"column":1},"end":{"line":138,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"DeX8ME8EjI"},{"type":"inlineCode","value":"docker compose logs controller -f","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"zGhRekxMLZ"},{"type":"text","value":" if Slurm fails to start.","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"HyYAiDEdxp"}],"key":"YImHTykoeQ"}],"key":"D9TLiBDdyI"}],"key":"Go4ZTLBqDg"},{"type":"thematicBreak","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"LQLZaJZL3E"},{"type":"heading","depth":3,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"SSH into the controller (step-by-step)","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"WPDBRZ4tXE"}],"identifier":"ssh-into-the-controller-step-by-step","label":"SSH into the controller (step-by-step)","html_id":"ssh-into-the-controller-step-by-step","implicit":true,"key":"bpZOsn8uzZ"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":143,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"children":[{"type":"text","value":"Ensure containers are running (","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"qmeZIiJPcT"},{"type":"inlineCode","value":"docker compose ps","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"vOjOBsLb85"},{"type":"text","value":").","position":{"start":{"line":143,"column":1},"end":{"line":143,"column":1}},"key":"N7n89HfEL1"}],"key":"IZ3nuaGjLi"}],"key":"wpCd5Bz8Up"},{"type":"listItem","spread":true,"position":{"start":{"line":144,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"children":[{"type":"text","value":"Password defaults to ","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"KGJeGpsfzz"},{"type":"inlineCode","value":"sspa-password","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"UJFHWFFn8x"},{"type":"text","value":", but reset it anytime from the host:","position":{"start":{"line":144,"column":1},"end":{"line":144,"column":1}},"key":"bI13Buae4b"}],"key":"B3vVciWRpY"},{"type":"code","lang":"bash","value":"cd docker_images\ndocker compose exec controller bash -lc 'echo \"sspa:sspa-password\" | chpasswd'","position":{"start":{"line":146,"column":1},"end":{"line":149,"column":1}},"key":"YBKr8OcQc4"}],"key":"MplYbTTbT3"},{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"text","value":"On the host, trust the controller and log in:","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"FfXr69sZSx"}],"key":"dpiGeYMYO7"},{"type":"code","lang":"bash","value":"ssh -p 2222 sspa@localhost","position":{"start":{"line":153,"column":1},"end":{"line":155,"column":1}},"key":"a8JvudLeuf"}],"key":"sNI5YFjFa2"},{"type":"listItem","spread":true,"position":{"start":{"line":157,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"children":[{"type":"text","value":"(Optional, safer) copy your SSH key for passwordless logins:","position":{"start":{"line":157,"column":1},"end":{"line":157,"column":1}},"key":"JIeeGXXZki"}],"key":"EsuDjneyTq"},{"type":"code","lang":"bash","value":"ssh-copy-id -p 2222 sspa@localhost","position":{"start":{"line":159,"column":1},"end":{"line":161,"column":1}},"key":"Pu9vxlOJdA"}],"key":"rXdXJ746F4"},{"type":"listItem","spread":true,"position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"text","value":"Verify you are on the controller: ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"eGOFJ3v6Th"},{"type":"inlineCode","value":"hostname","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"hJu1kAsnnR"},{"type":"text","value":" should print ","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"hIENmmYvFT"},{"type":"inlineCode","value":"controller","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"rX3Crs76m3"},{"type":"text","value":".","position":{"start":{"line":163,"column":1},"end":{"line":163,"column":1}},"key":"pW5J2qmpEx"}],"key":"sz3edmtG5q"}],"key":"ynUm5XxixE"},{"type":"listItem","spread":true,"position":{"start":{"line":164,"column":1},"end":{"line":165,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Test Slurm visibility: ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"worvzEIXQI"},{"type":"inlineCode","value":"sinfo","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"HPtNeSO6Tp"},{"type":"text","value":" must list the ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"sMzjr71fJQ"},{"type":"inlineCode","value":"debug","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"ObfNcUSqy6"},{"type":"text","value":" partition with ","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"x1d72tGFwj"},{"type":"inlineCode","value":"worker[1-2]","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"IFqFq0mKo0"},{"type":"text","value":" nodes.","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"OJdx2RnVU6"}],"key":"daWgzaWmgQ"}],"key":"jJBJGD1PtJ"}],"key":"M6bRF5IMxJ"},{"type":"thematicBreak","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"toVrM5LDW6"},{"type":"heading","depth":3,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Troubleshooting the SSH hop","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"YLC86XxyAv"}],"identifier":"troubleshooting-the-ssh-hop","label":"Troubleshooting the SSH hop","html_id":"troubleshooting-the-ssh-hop","implicit":true,"key":"Yd36cJc7Em"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":170,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Connection refused → check Docker Desktop is running and ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"MmmOIIyCt4"},{"type":"inlineCode","value":"docker compose up -d","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"vnaewg0hUr"},{"type":"text","value":" succeeded.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"DQrBYcT8y9"}],"key":"F0UPs3AQyP"}],"key":"t2n4pQ3rfB"},{"type":"listItem","spread":true,"position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Password rejected → rerun the ","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"UkGuh6FS3I"},{"type":"inlineCode","value":"chpasswd","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"iouztJ1Fdr"},{"type":"text","value":" command or ","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"pNER9qGUom"},{"type":"inlineCode","value":"docker compose exec controller passwd sspa","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"f10F2T2PDe"},{"type":"text","value":" interactively.","position":{"start":{"line":171,"column":1},"end":{"line":171,"column":1}},"key":"nasEfFLpik"}],"key":"eMTN8x43LH"}],"key":"Nh4grkz6Gv"},{"type":"listItem","spread":true,"position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Key mismatch warnings → remove old host entry: ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"SGcDepdMKL"},{"type":"inlineCode","value":"ssh-keygen -R [localhost]:2222","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"kGx4hWOBXR"},{"type":"text","value":".","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"gY8Nb4WGwE"}],"key":"inJ8lOemqz"}],"key":"D9VKd4wPfz"},{"type":"listItem","spread":true,"position":{"start":{"line":173,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Absolute fallback: ","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"bRlPFv68sW"},{"type":"inlineCode","value":"docker compose exec controller bash","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"E0pURvPtgp"},{"type":"text","value":" keeps you productive even without SSH.","position":{"start":{"line":173,"column":1},"end":{"line":173,"column":1}},"key":"hMb7Zuk2Uf"}],"key":"qa0kWjXG4U"}],"key":"J7yensuPvt"}],"key":"LGSi1yI8T1"},{"type":"thematicBreak","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"JVrGgEL6ND"},{"type":"heading","depth":3,"position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Slurm concepts refresher","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"CitZz0nJYL"}],"identifier":"slurm-concepts-refresher","label":"Slurm concepts refresher","html_id":"slurm-concepts-refresher","implicit":true,"key":"C4RbUefpiM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":179,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Controller (slurmctld)","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"n2ZJSvUiQz"}],"key":"EfT2o8Giew"},{"type":"text","value":" accepts requests and schedules work on nodes running ","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"DHGuzDGpeR"},{"type":"strong","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"slurmd","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"mi26UihsjF"}],"key":"NBPsfH9Gmp"},{"type":"text","value":".","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"wUSrX9jyi0"}],"key":"eqobBjmBdR"}],"key":"YBuJzrbzjV"},{"type":"listItem","spread":true,"position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"children":[{"type":"text","value":"Partitions","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"ivEdLIASmF"}],"key":"ThGSYPnUm1"},{"type":"text","value":" group nodes with similar features; default here is ","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"WjUnEujf8F"},{"type":"inlineCode","value":"debug","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"XWe9yigZg2"},{"type":"text","value":".","position":{"start":{"line":180,"column":1},"end":{"line":180,"column":1}},"key":"XBCDvZ4kSM"}],"key":"xXMWM6cA1V"}],"key":"imUOuNFLAQ"},{"type":"listItem","spread":true,"position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"text","value":"Job","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"b3bb50dT3H"}],"key":"jDnmahoroa"},{"type":"text","value":" = resource request + script. Slurm enforces limits and tracks state.","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"oCZeNoVwsh"}],"key":"tAxISe7cTn"}],"key":"cXr0hw20g8"},{"type":"listItem","spread":true,"position":{"start":{"line":182,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Canonical command set: ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"CoGnxFo1zO"},{"type":"inlineCode","value":"sinfo","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"Fx363FFgrY"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"mlu3JDEQfG"},{"type":"inlineCode","value":"squeue","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"otYqAFrtrr"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"lNL0AonJwW"},{"type":"inlineCode","value":"sbatch","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"WIOv3QZnPU"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"WxYW1T8gwf"},{"type":"inlineCode","value":"srun","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"lhc4asHacv"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"b6ObZyGap6"},{"type":"inlineCode","value":"salloc","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"lM8NiESek8"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"p8cPa7lyHb"},{"type":"inlineCode","value":"scancel","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"QoTsmN1uXA"},{"type":"text","value":", ","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"PsuqMIk9sC"},{"type":"inlineCode","value":"sacct","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"mjKxi8wp2W"},{"type":"text","value":".","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"Pp4rbKC5h5"}],"key":"PBUB4mj4RG"}],"key":"DkXrqoie2v"}],"key":"Tb67O4lHIU"},{"type":"thematicBreak","position":{"start":{"line":184,"column":1},"end":{"line":184,"column":1}},"key":"l1ay0Uckus"},{"type":"heading","depth":3,"position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"children":[{"type":"text","value":"Step-by-step Slurm workflow","position":{"start":{"line":186,"column":1},"end":{"line":186,"column":1}},"key":"NPvk8V2uz1"}],"identifier":"step-by-step-slurm-workflow","label":"Step-by-step Slurm workflow","html_id":"step-by-step-slurm-workflow","implicit":true,"key":"EvDZkJOfwW"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":188,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"children":[{"type":"text","value":"Inspect resources","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"dokXwlfBv2"}],"key":"F3wT9f147H"},{"type":"text","value":" — ","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"EGYjDGmHGz"},{"type":"inlineCode","value":"sinfo -Nl","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"QHiGZ1vkw0"},{"type":"text","value":" shows nodes, states, core counts.","position":{"start":{"line":188,"column":1},"end":{"line":188,"column":1}},"key":"SlkYsenVB6"}],"key":"ivZGyc6RnD"}],"key":"cVFH60SYXY"},{"type":"listItem","spread":true,"position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"children":[{"type":"text","value":"Author a job script","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"m1Qs6aJzrz"}],"key":"db65msQ25f"},{"type":"text","value":" — encode directives (","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"BhsKF5PpQO"},{"type":"inlineCode","value":"#SBATCH","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"YC9UNnMHNi"},{"type":"text","value":") + workload commands.","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"Vq5k2dfwcr"}],"key":"DPicZoJ2DK"}],"key":"fkSBeH8eO6"},{"type":"listItem","spread":true,"position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"children":[{"type":"text","value":"Submit","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"qIwKMSFFgh"}],"key":"o2AS0upH6k"},{"type":"text","value":" — ","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"QnoB6CXfT7"},{"type":"inlineCode","value":"sbatch job.sh","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"Myr9RIRyQ1"},{"type":"text","value":" returns a job ID.","position":{"start":{"line":190,"column":1},"end":{"line":190,"column":1}},"key":"m1zjwAIP4K"}],"key":"jmLoi3K3ac"}],"key":"auWAXQWu1u"},{"type":"listItem","spread":true,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Monitor","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"cIR6lPPZJl"}],"key":"iVUhT7uRCK"},{"type":"text","value":" — ","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"SWC5ZIDCNM"},{"type":"inlineCode","value":"squeue -j <id>","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"h2xNtMRB8J"},{"type":"text","value":" during runtime; ","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"KLBvtRk0pn"},{"type":"inlineCode","value":"sacct -j <id>","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"dJMQSfq2xK"},{"type":"text","value":" for completed history.","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"j40LOaiM1P"}],"key":"GbSxNqRIpV"}],"key":"rmGPrx1o2J"},{"type":"listItem","spread":true,"position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"children":[{"type":"text","value":"Interact","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"bgSJbccAJJ"}],"key":"TgSBbQJ5oF"},{"type":"text","value":" — ","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"hPx40IJDzv"},{"type":"inlineCode","value":"srun","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"onrit3VXJf"},{"type":"text","value":" inside scripts launches tasks; ","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"NaeGfxWZoE"},{"type":"inlineCode","value":"salloc","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"S2j4vUM1Y3"},{"type":"text","value":" grants an interactive shell.","position":{"start":{"line":192,"column":1},"end":{"line":192,"column":1}},"key":"svDpM38I0P"}],"key":"P7fvE0fXJn"}],"key":"ObvwT2WoBb"},{"type":"listItem","spread":true,"position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"children":[{"type":"text","value":"Terminate early","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"IbsmVIfzgH"}],"key":"w9i5ZX73Hh"},{"type":"text","value":" — ","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"XNSdUyzvL3"},{"type":"inlineCode","value":"scancel <id>","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"eqfkZJlUPW"},{"type":"text","value":" (single job) or ","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"XrZ98ZZ1iZ"},{"type":"inlineCode","value":"scancel -u $USER","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"vtt5TFCiNo"},{"type":"text","value":" (bulk) when something goes wrong.","position":{"start":{"line":193,"column":1},"end":{"line":193,"column":1}},"key":"J57TTmBZnT"}],"key":"hKrVfwuAmm"}],"key":"nGYfzM3lrV"},{"type":"listItem","spread":true,"position":{"start":{"line":194,"column":1},"end":{"line":195,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"children":[{"type":"text","value":"Collect outputs","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"rH416mzoOe"}],"key":"atYc0BEXT8"},{"type":"text","value":" — Slurm writes ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"YQEXngpRIx"},{"type":"inlineCode","value":"<jobname>.o<jobid>","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"Ngl4aCGnkF"},{"type":"text","value":" / ","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"GADVYxMb6d"},{"type":"inlineCode","value":".e<jobid>","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"eqJXOpXH1t"},{"type":"text","value":" unless you override paths.","position":{"start":{"line":194,"column":1},"end":{"line":194,"column":1}},"key":"xg8jLNZkpi"}],"key":"atkzZrJQMD"}],"key":"E2VGQijRVX"}],"key":"tXtYFFXOs2"},{"type":"thematicBreak","position":{"start":{"line":196,"column":1},"end":{"line":196,"column":1}},"key":"sfTBhjXBaW"},{"type":"heading","depth":3,"position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"children":[{"type":"text","value":"Resource requests that matter","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"Wwah383q4K"}],"identifier":"resource-requests-that-matter","label":"Resource requests that matter","html_id":"resource-requests-that-matter","implicit":true,"key":"jPtqDMieyQ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":200,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"#SBATCH --partition=debug","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"ST4lZKxtKx"},{"type":"text","value":" — partition choice.","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"bz5WzA9Qeg"}],"key":"lolUvpMjV7"}],"key":"CZJO0dnCIb"},{"type":"listItem","spread":true,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"#SBATCH --nodes=1","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"xC02mQTo72"},{"type":"text","value":", ","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"loZZa12e0b"},{"type":"inlineCode","value":"#SBATCH --ntasks=2","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"D9YcxBXSVi"},{"type":"text","value":", ","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"DKMCxaXp3Q"},{"type":"inlineCode","value":"#SBATCH --cpus-per-task=1","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"VpnSrRDrG1"},{"type":"text","value":" — how many processes/cores.","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"GFXQYdPaoz"}],"key":"hRmNxy9US5"}],"key":"iGls3LgEOM"},{"type":"listItem","spread":true,"position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"#SBATCH --mem=2G","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"hlKmJiZsKx"},{"type":"text","value":" — per-node memory; enforce realistic values.","position":{"start":{"line":202,"column":1},"end":{"line":202,"column":1}},"key":"xNKWQ0bFVf"}],"key":"vBXDgVk36z"}],"key":"wBcXcsFztn"},{"type":"listItem","spread":true,"position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"#SBATCH --time=00:05:00","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"RIj9A9fxkh"},{"type":"text","value":" — wall-clock limit avoids runaway jobs.","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"QtRIEGNlJY"}],"key":"BxXsvfoPpG"}],"key":"mBDcxaSF4z"},{"type":"listItem","spread":true,"position":{"start":{"line":204,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"Dwv32EJvgZ"},{"type":"inlineCode","value":"scontrol show job <id>","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"US4abKwHcZ"},{"type":"text","value":" to confirm what the scheduler understood vs what you asked.","position":{"start":{"line":204,"column":1},"end":{"line":204,"column":1}},"key":"s6Xv8JMszx"}],"key":"EkzoDEpSZd"}],"key":"zc5CoyHZXO"}],"key":"ERGYFBCbUV"},{"type":"thematicBreak","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"TQoM5Bm6XI"},{"type":"heading","depth":3,"position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"text","value":"Minimal batch script template","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"fNmbLPi0S5"}],"identifier":"minimal-batch-script-template","label":"Minimal batch script template","html_id":"minimal-batch-script-template","implicit":true,"key":"sGkHJ7jv3n"},{"type":"code","lang":"bash","value":"#!/bin/bash\n#SBATCH --job-name=hello-slurm\n#SBATCH --partition=debug\n#SBATCH --nodes=1\n#SBATCH --ntasks=2\n#SBATCH --time=00:02:00\n#SBATCH --output=slurm-%j.out\n\nmodule purge            # no modules here, but keep habit\nset -euo pipefail\n\nsrun -l hostname        # label output with rank IDs\npython3 codes/lab02/hello.py","position":{"start":{"line":210,"column":1},"end":{"line":224,"column":1}},"key":"jB4GTmQPya"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":226,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Put scripts under version control (","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"u29h4PjDij"},{"type":"inlineCode","value":"jupyterbook/slides","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"f0K4tG0wyh"},{"type":"text","value":" references them).","position":{"start":{"line":226,"column":1},"end":{"line":226,"column":1}},"key":"ixThOmh6gj"}],"key":"SvqRUWBGl9"}],"key":"hXk8R5H4B3"},{"type":"listItem","spread":true,"position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use ","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"aFxS850tY1"},{"type":"inlineCode","value":"%j","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"qFrGphmSU8"},{"type":"text","value":" token to stamp log files with the job ID.","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"vwdtXtdcFr"}],"key":"lZILcpb26v"}],"key":"LwC4B1VjJI"},{"type":"listItem","spread":true,"position":{"start":{"line":228,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"-l","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"SVaYs4spyL"},{"type":"text","value":" flag on ","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"AjUwlwdrlI"},{"type":"inlineCode","value":"srun","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"h62s64Zu0p"},{"type":"text","value":" prefixes each line with the task number for clarity.","position":{"start":{"line":228,"column":1},"end":{"line":228,"column":1}},"key":"nFFD0ut7hr"}],"key":"HMGfF0wI8V"}],"key":"LVyc5z1CIr"}],"key":"RKBcVa4rKa"},{"type":"thematicBreak","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"WNSZmZFtZn"},{"type":"heading","depth":3,"position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"children":[{"type":"text","value":"Interactive allocations","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"vGwNFpvrNf"}],"identifier":"interactive-allocations","label":"Interactive allocations","html_id":"interactive-allocations","implicit":true,"key":"nyvWE7AzbB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":234,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"salloc --nodes=1 --ntasks=1 --time=00:30:00","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"pwnThYsnvp"},{"type":"text","value":" gives you a shell with reserved resources.","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"vXodSHBoRV"}],"key":"CwvALUOKkP"}],"key":"t3s6V3XpdY"},{"type":"listItem","spread":true,"position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Run ","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"rmvTgq8PBm"},{"type":"inlineCode","value":"srun --pty bash","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"KYYQ4GRGMo"},{"type":"text","value":" if you prefer to keep login shell untouched.","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"BQVSExrMqk"}],"key":"zjpHK5mboT"}],"key":"bmJ18cI9DP"},{"type":"listItem","spread":true,"position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Great for debugging MPI/OpenMP initialization before wrapping it in ","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"GwqBLSgMy6"},{"type":"inlineCode","value":"sbatch","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"YKnYTJSela"},{"type":"text","value":".","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"zaFqagfxkD"}],"key":"vH1fmFQtUV"}],"key":"S837AWbVWn"},{"type":"listItem","spread":true,"position":{"start":{"line":237,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Remember to ","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"GQZNBoGXo8"},{"type":"inlineCode","value":"exit","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"B37AlOYb0f"},{"type":"text","value":" when done; otherwise the allocation blocks others.","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"MZXSuKaRAy"}],"key":"oi3mZZ2JIq"}],"key":"cMky962J69"}],"key":"Xmu4K73BHO"},{"type":"thematicBreak","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"a3iy8tmHyL"},{"type":"heading","depth":3,"position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"text","value":"Job arrays & dependencies","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"brcV06gBwq"}],"identifier":"job-arrays-dependencies","label":"Job arrays & dependencies","html_id":"job-arrays-dependencies","implicit":true,"key":"okztLKqsY3"},{"type":"code","lang":"bash","value":"#!/bin/bash\n#SBATCH --job-name=param-scan\n#SBATCH --array=0-9\n#SBATCH --output=logs/scan_%A_%a.out\n\nPARAMS=(0.1 0.2 0.5 1 2 5 10 20 50 100)\npython3 codes/lab02/sweep.py --beta \"${PARAMS[$SLURM_ARRAY_TASK_ID]}\"","position":{"start":{"line":243,"column":1},"end":{"line":251,"column":1}},"key":"hC06S92O0U"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"%A","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"p4lPnXwMW1"},{"type":"text","value":" = array master ID, ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"aP2jERniAP"},{"type":"inlineCode","value":"%a","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"AbDe9KgzHC"},{"type":"text","value":" = task index.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"mKyP9XhC5K"}],"key":"V8iRaau13e"}],"key":"Y68Ka0NPqO"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Chain workloads: ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"ph7PPE7lPy"},{"type":"inlineCode","value":"sbatch --dependency=afterok:<jobid> next-step.sh","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"oRunS84Tog"},{"type":"text","value":" to run only when the first job succeeds.","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"kAIeVCEJTk"}],"key":"x1lmIXOP5L"}],"key":"y15TuGbUq5"},{"type":"listItem","spread":true,"position":{"start":{"line":255,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Use arrays for embarrassingly parallel scans; combine with dependencies for staged pipelines.","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"y1ucxoCiNJ"}],"key":"x9vDLfkLB7"}],"key":"M9IdXq4t3G"}],"key":"SeRVztd5JB"},{"type":"thematicBreak","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"J34vXcSe1z"},{"type":"heading","depth":3,"position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"text","value":"Monitoring & debugging checklist","position":{"start":{"line":259,"column":1},"end":{"line":259,"column":1}},"key":"t4fKdFpdNL"}],"identifier":"monitoring-debugging-checklist","label":"Monitoring & debugging checklist","html_id":"monitoring-debugging-checklist","implicit":true,"key":"soON3HgnDV"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":261,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"squeue -u $USER","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"mBJi32ehkN"},{"type":"text","value":" → quick look at what is pending/running.","position":{"start":{"line":261,"column":1},"end":{"line":261,"column":1}},"key":"oBNehB8mlE"}],"key":"sY97p47j12"}],"key":"hALKjwg6Ey"},{"type":"listItem","spread":true,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"sacct -j <jobid>","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"dPOIiP1GKB"},{"type":"text","value":" (not available in the minimal Docker setup, but expect it on production clusters) → historical state, elapsed time, resource use.","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"WqofloCKBL"}],"key":"rGlyH3m9vF"}],"key":"g6XRcENRXU"},{"type":"listItem","spread":true,"position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"scontrol show node worker1","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"r5FynZsC5Y"},{"type":"text","value":" → inspect node state if jobs stay pending (maybe ","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"EpAC5NAiWi"},{"type":"inlineCode","value":"drain","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"IrK8aDykad"},{"type":"text","value":").","position":{"start":{"line":263,"column":1},"end":{"line":263,"column":1}},"key":"yUgEAr0TB9"}],"key":"hxhaY8uwPr"}],"key":"HjjgGV6rHk"},{"type":"listItem","spread":true,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Check Slurm logs inside controller: ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"WGRZesDeGk"},{"type":"inlineCode","value":"/var/log/slurm/slurmctld.log","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"URzwDMhYRX"},{"type":"text","value":" (via ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"gMy7BQSfIy"},{"type":"inlineCode","value":"sudo less","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"vg9It4nWES"},{"type":"text","value":").","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"icD5YzXuM8"}],"key":"BqlHEhFUyL"}],"key":"xKM7gwTaRO"},{"type":"listItem","spread":true,"position":{"start":{"line":265,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Container-specific: restart a misbehaving worker with ","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"TOemYjaKbb"},{"type":"inlineCode","value":"docker compose restart worker1","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"Q0VogK3GOD"},{"type":"text","value":".","position":{"start":{"line":265,"column":1},"end":{"line":265,"column":1}},"key":"dwUvZqc3Lm"}],"key":"pgmKJwwkQh"}],"key":"ZyY3I8Pt6v"}],"key":"mvXSiqk3nq"},{"type":"thematicBreak","position":{"start":{"line":267,"column":1},"end":{"line":267,"column":1}},"key":"V55h7OjCcP"},{"type":"heading","depth":3,"position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"text","value":"Work vs scratch spaces","position":{"start":{"line":269,"column":1},"end":{"line":269,"column":1}},"key":"YsnttLDf1z"}],"identifier":"work-vs-scratch-spaces","label":"Work vs scratch spaces","html_id":"work-vs-scratch-spaces","implicit":true,"key":"wd4sNJ0AR3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":271,"column":1},"end":{"line":275,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":271,"column":1},"end":{"line":271,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"$WORK","position":{"start":{"line":271,"column":1},"end":{"line":271,"column":1}},"key":"n9dHsCqxGk"},{"type":"text","value":" (","position":{"start":{"line":271,"column":1},"end":{"line":271,"column":1}},"key":"OQ2K9U1l1J"},{"type":"inlineCode","value":"/work","position":{"start":{"line":271,"column":1},"end":{"line":271,"column":1}},"key":"b3rpbQRXOv"},{"type":"text","value":") is persistent: use it for source trees, compiled binaries, notebooks, lab writeups.","position":{"start":{"line":271,"column":1},"end":{"line":271,"column":1}},"key":"fYqmetJODI"}],"key":"QbzcLtyawt"}],"key":"RqOuK25zJq"},{"type":"listItem","spread":true,"position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"$SCRATCH","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"Z73p8qYzrF"},{"type":"text","value":" (","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"JNZiGk5MgO"},{"type":"inlineCode","value":"/scratch","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"MhXOq5R9aW"},{"type":"text","value":") is fast but disposable: stage temporary inputs, checkpoints, and job outputs you intend to post-process soon.","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"iSMAdvLSgP"}],"key":"MfkYYOJPRd"}],"key":"tzYQ8h4BOS"},{"type":"listItem","spread":true,"position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Copy critical results back to ","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"PSrYyXa2HG"},{"type":"inlineCode","value":"$WORK","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"Qmcma3CZA1"},{"type":"text","value":" or Git before stopping the cluster; ","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"msQmYN9O3Z"},{"type":"inlineCode","value":"scratch","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"METTKdPGSU"},{"type":"text","value":" can be wiped between sessions.","position":{"start":{"line":273,"column":1},"end":{"line":273,"column":1}},"key":"lSDnjS2D5U"}],"key":"Bq7uI9OJ5k"}],"key":"hsmtJzdcJm"},{"type":"listItem","spread":true,"position":{"start":{"line":274,"column":1},"end":{"line":275,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Many production clusters enforce quotas/expiry on scratch, so start practicing good hygiene now (clean up after big runs).","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"cxHs4YYG9L"}],"key":"La4CCrIzsI"}],"key":"p79R46LKnV"}],"key":"xVLoer5cVY"},{"type":"thematicBreak","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"qbERVGYBeN"},{"type":"heading","depth":3,"position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"text","value":"Exercises to place under ","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"gFU3hTORvm"},{"type":"inlineCode","value":"codes/lab02","position":{"start":{"line":278,"column":1},"end":{"line":278,"column":1}},"key":"pWJBFQsi0S"}],"identifier":"exercises-to-place-under-codes-lab02","label":"Exercises to place under codes/lab02","html_id":"exercises-to-place-under-codes-lab02","implicit":true,"key":"MbGtRF1UFN"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":280,"column":1},"end":{"line":282,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"children":[{"type":"text","value":"Exercise 1 – CPU scaling probe","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"cz02iHiYgq"}],"key":"kuIJ3C35Dq"},{"type":"text","value":": add ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"L4VNaNYHEX"},{"type":"inlineCode","value":"codes/lab02/vec_add.cpp","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"uQRPWNXJ6u"},{"type":"text","value":" + ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"iOdA22tpP2"},{"type":"inlineCode","value":"codes/lab02/run_vec_add.sh","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"a40A61l50C"},{"type":"text","value":". Compile with ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"hc12NI5DPe"},{"type":"inlineCode","value":"cmake","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"ZpIhRKvmcS"},{"type":"text","value":" or ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"tvOopxQ2ej"},{"type":"inlineCode","value":"g++","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"fdgLdNKWtd"},{"type":"text","value":", then write a batch script that sweeps ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"MxPhJtxH9C"},{"type":"inlineCode","value":"--ntasks=1,2","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"a5eFedbjzI"},{"type":"text","value":" using a job array to compare elapsed times (store results in ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"h5zTTfCRiP"},{"type":"inlineCode","value":"codes/lab02/results/","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"itTHZuwZvQ"},{"type":"text","value":").","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"UbmHU0VZFZ"}],"key":"o8yB9IdZIk"}],"key":"HycBWnq9eZ"},{"type":"listItem","spread":true,"position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"text","value":"Exercise 2 – Parameter sweep w/ dependencies","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"olo96zjR0o"}],"key":"J2cX6h7hnD"},{"type":"text","value":": create ","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"VA28VnASJT"},{"type":"inlineCode","value":"codes/lab02/montecarlo.py","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"g8eZGUiUWK"},{"type":"text","value":" producing intermediate ","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"jeTqIL3CLv"},{"type":"inlineCode","value":".npz","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"NagVsCCIfd"},{"type":"text","value":" files. Submit an array job to vary sample counts, then a dependent ","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"vwu5QnTwc8"},{"type":"inlineCode","value":"aggregate.sh","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"BkfZ43q7ck"},{"type":"text","value":" that runs once (","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"TU1HXq9rny"},{"type":"inlineCode","value":"--dependency=afterok:$ARRAY_JOBID","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"cKYYitnkTV"},{"type":"text","value":") to merge outputs into a summary table.","position":{"start":{"line":281,"column":1},"end":{"line":281,"column":1}},"key":"wXc7JQFVMQ"}],"key":"FoPDGD5GBM"}],"key":"z7HDylSad9"},{"type":"listItem","spread":true,"position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Document findings in a short ","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"GDmkJjZU4w"},{"type":"inlineCode","value":"README","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"MoVh9B9E2m"},{"type":"text","value":" inside ","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"qo1IY79OLa"},{"type":"inlineCode","value":"codes/lab02/","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"d64SKueXm6"},{"type":"text","value":" so future students can reuse the workflow.","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"B86TaQDDnW"}],"key":"OutBmvcR9M"}],"key":"eskWAVIJUD"}],"key":"mSAi4LKzEs"}],"key":"DgHponPZsm"}],"key":"UF3X4Ofsff"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Using the terminal","url":"/slides/slides01","group":"Slides content"},"next":{"title":"Git Fundamentals","url":"/slides/slides03","group":"Slides content"}}},"domain":"http://localhost:3000"}